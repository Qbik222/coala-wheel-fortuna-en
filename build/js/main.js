"use strict";

var days = document.querySelectorAll(".wheel__days-item");
var currentDay = 5;
function setDays(days, currentDay) {
  days.forEach(function (day, i) {
    ++i;
    day.classList.toggle("next", i > currentDay);
    day.classList.toggle("past", i < currentDay);
    day.classList.toggle("active", i === currentDay);
  });
}

// function addAnimationClass() {
//     const pastAndActive = document.querySelectorAll(".wheel__days-item.past, .wheel__days-item.active");
//     console.log(pastAndActive)
//
//     pastAndActive.forEach((item, i) => {
//         let day = item.querySelector(".wheel__days-item-text")
//         const randomDelay = Math.random() * 20000;
//
//         setTimeout(() => {
//             // console.log(day)
//             day.style.animationDelay = `${i/ 2}s`;
//             day.classList.add('daysAnim');
//             day.addEventListener("click", () =>{
//                 console.log(day)
//                 day.classList.remove('daysAnim');
//             }, {once: true})
//         }, randomDelay);
//     });
// }

setDays(days, currentDay);
// addAnimationClass()

/// wheel logic
var wheelSections = document.querySelector(".wheel__sections");
var wheelWrap = document.querySelector(".wheel__wrap");
var wheelArrow = document.querySelector(".wheel__arrow");
var wheelBtn = document.querySelector(".wheel__btn");
var spinBg = document.querySelector(".spin-bg");
var salut = document.querySelector(".fireworks-wrap");
var bubleBtn = document.querySelector(".wheel__days-icons");
var wheelBuble = document.querySelector(".wheel__buble");
bubleBtn.addEventListener("click", function () {
  wheelBuble.classList.toggle("_hidden");
});
var prizes = ['iphone', 'ecoflow', 'merch', 'nothing', "bonuses"];
function getRandomPrize(arr) {
  return arr[Math.floor(Math.random() * prizes.length)];
}
function spinWheel(position, animation, sections, btn, wheel, arrow, prize, spinBg, salut) {
  sections.addEventListener("animationend", function () {
    sections.style.transform = "translate(-50%, -50%) rotate(".concat(position, "deg)");
    console.log(prize);
  }, {
    once: true
  });
  sections.classList.add("".concat(animation));
  arrow.style.opacity = "0";
  wheel.classList.add("wheelSizeIncrease");
  spinBg.classList.add("showSpinBg");
  salut.classList.add("_opacity");
  btn.style.pointerEvents = "none";
}
function firstSpin(sections, btn, wheel, arrow, prize, spinBg, salut) {
  btn.addEventListener("click", function () {
    wheelBuble.classList.add("_hidden");
    if (prize === "iphone") {
      spinWheel(1800, "iphonePrize", sections, btn, wheel, arrow, prize, spinBg, salut);
    }
    if (prize === "ecoflow") {
      spinWheel(1665, "ecoflowPrize", sections, btn, wheel, arrow, prize, spinBg, salut);
    }
    if (prize === "merch") {
      spinWheel(1711, "merchPrize", sections, btn, wheel, arrow, prize, spinBg, salut);
    }
    if (prize === "nothing") {
      spinWheel(1755, "nothingPrize", sections, btn, wheel, arrow, prize, spinBg, salut);
    }
    if (prize === "bonuses") {
      spinWheel(1935, "bonusesPrize", sections, btn, wheel, arrow, prize, spinBg, salut);
    }
  });
}
firstSpin(wheelSections, wheelBtn, wheelWrap, wheelArrow, getRandomPrize(prizes), spinBg, salut);

//// accordion

var accordionHeaders = document.querySelectorAll('.accordion-header');
accordionHeaders.forEach(function (header) {
  header.addEventListener('click', function () {
    var content = header.nextElementSibling;
    document.querySelectorAll('.accordion-content').forEach(function (item) {
      if (item !== content) {
        item.style.display = 'none';
        item.previousElementSibling.classList.remove('open');
      }
    });
    if (content.style.display === 'block') {
      content.style.display = 'none';
      header.classList.remove('open');
    } else {
      content.style.display = 'block';
      header.classList.add('open');
    }
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZGF5cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImN1cnJlbnREYXkiLCJzZXREYXlzIiwiZm9yRWFjaCIsImRheSIsImkiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ3aGVlbFNlY3Rpb25zIiwicXVlcnlTZWxlY3RvciIsIndoZWVsV3JhcCIsIndoZWVsQXJyb3ciLCJ3aGVlbEJ0biIsInNwaW5CZyIsInNhbHV0IiwiYnVibGVCdG4iLCJ3aGVlbEJ1YmxlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByaXplcyIsImdldFJhbmRvbVByaXplIiwiYXJyIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwic3BpbldoZWVsIiwicG9zaXRpb24iLCJhbmltYXRpb24iLCJzZWN0aW9ucyIsImJ0biIsIndoZWVsIiwiYXJyb3ciLCJwcml6ZSIsInN0eWxlIiwidHJhbnNmb3JtIiwiY29uc29sZSIsImxvZyIsIm9uY2UiLCJhZGQiLCJvcGFjaXR5IiwicG9pbnRlckV2ZW50cyIsImZpcnN0U3BpbiIsImFjY29yZGlvbkhlYWRlcnMiLCJoZWFkZXIiLCJjb250ZW50IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiaXRlbSIsImRpc3BsYXkiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLElBQUksR0FBR0MsUUFBUSxDQUFDQyxnQkFBZ0IsQ0FBQyxtQkFBbUIsQ0FBQztBQUMzRCxJQUFJQyxVQUFVLEdBQUcsQ0FBQztBQUVsQixTQUFTQyxPQUFPLENBQUNKLElBQUksRUFBRUcsVUFBVSxFQUFDO0VBQzlCSCxJQUFJLENBQUNLLE9BQU8sQ0FBQyxVQUFDQyxHQUFHLEVBQUVDLENBQUMsRUFBSTtJQUNwQixFQUFFQSxDQUFDO0lBQ0hELEdBQUcsQ0FBQ0UsU0FBUyxDQUFDQyxNQUFNLENBQUMsTUFBTSxFQUFFRixDQUFDLEdBQUdKLFVBQVUsQ0FBQztJQUM1Q0csR0FBRyxDQUFDRSxTQUFTLENBQUNDLE1BQU0sQ0FBQyxNQUFNLEVBQUVGLENBQUMsR0FBR0osVUFBVSxDQUFDO0lBQzVDRyxHQUFHLENBQUNFLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFFBQVEsRUFBRUYsQ0FBQyxLQUFLSixVQUFVLENBQUM7RUFDcEQsQ0FBQyxDQUFDO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUFDLE9BQU8sQ0FBQ0osSUFBSSxFQUFFRyxVQUFVLENBQUM7QUFDekI7O0FBRUE7QUFDQSxJQUFNTyxhQUFhLEdBQUdULFFBQVEsQ0FBQ1UsYUFBYSxDQUFDLGtCQUFrQixDQUFDO0FBQ2hFLElBQU1DLFNBQVMsR0FBR1gsUUFBUSxDQUFDVSxhQUFhLENBQUMsY0FBYyxDQUFDO0FBQ3hELElBQU1FLFVBQVUsR0FBR1osUUFBUSxDQUFDVSxhQUFhLENBQUMsZUFBZSxDQUFDO0FBQzFELElBQU1HLFFBQVEsR0FBR2IsUUFBUSxDQUFDVSxhQUFhLENBQUMsYUFBYSxDQUFDO0FBQ3RELElBQU1JLE1BQU0sR0FBR2QsUUFBUSxDQUFDVSxhQUFhLENBQUMsVUFBVSxDQUFDO0FBQ2pELElBQU1LLEtBQUssR0FBR2YsUUFBUSxDQUFDVSxhQUFhLENBQUMsaUJBQWlCLENBQUM7QUFDdkQsSUFBTU0sUUFBUSxHQUFHaEIsUUFBUSxDQUFDVSxhQUFhLENBQUMsb0JBQW9CLENBQUM7QUFDN0QsSUFBTU8sVUFBVSxHQUFHakIsUUFBUSxDQUFDVSxhQUFhLENBQUMsZUFBZSxDQUFDO0FBRTFETSxRQUFRLENBQUNFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFLO0VBQ3BDRCxVQUFVLENBQUNWLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFNBQVMsQ0FBQztBQUMxQyxDQUFDLENBQUM7QUFFRixJQUFJVyxNQUFNLEdBQUcsQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDO0FBQ2pFLFNBQVNDLGNBQWMsQ0FBQ0MsR0FBRyxFQUFFO0VBQ3pCLE9BQU9BLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDQyxLQUFLLENBQUNELElBQUksQ0FBQ0UsTUFBTSxFQUFFLEdBQUdMLE1BQU0sQ0FBQ00sTUFBTSxDQUFDLENBQUM7QUFDekQ7QUFDQSxTQUFTQyxTQUFTLENBQUNDLFFBQVEsRUFBRUMsU0FBUyxFQUFFQyxRQUFRLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRW5CLE1BQU0sRUFBRUMsS0FBSyxFQUFDO0VBQ3RGYyxRQUFRLENBQUNYLGdCQUFnQixDQUFDLGNBQWMsRUFBRSxZQUFLO0lBQzNDVyxRQUFRLENBQUNLLEtBQUssQ0FBQ0MsU0FBUywwQ0FBbUNSLFFBQVEsU0FBTTtJQUN6RVMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztFQUN0QixDQUFDLEVBQUU7SUFBQ0ssSUFBSSxFQUFFO0VBQUksQ0FBQyxDQUFDO0VBQ2hCVCxRQUFRLENBQUN0QixTQUFTLENBQUNnQyxHQUFHLFdBQUlYLFNBQVMsRUFBRztFQUN0Q0ksS0FBSyxDQUFDRSxLQUFLLENBQUNNLE9BQU8sR0FBRyxHQUFHO0VBQ3pCVCxLQUFLLENBQUN4QixTQUFTLENBQUNnQyxHQUFHLENBQUMsbUJBQW1CLENBQUM7RUFDeEN6QixNQUFNLENBQUNQLFNBQVMsQ0FBQ2dDLEdBQUcsQ0FBQyxZQUFZLENBQUM7RUFDbEN4QixLQUFLLENBQUNSLFNBQVMsQ0FBQ2dDLEdBQUcsQ0FBQyxVQUFVLENBQUM7RUFDL0JULEdBQUcsQ0FBQ0ksS0FBSyxDQUFDTyxhQUFhLEdBQUcsTUFBTTtBQUNwQztBQUVBLFNBQVNDLFNBQVMsQ0FBQ2IsUUFBUSxFQUFFQyxHQUFHLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVuQixNQUFNLEVBQUVDLEtBQUssRUFBQztFQUNqRWUsR0FBRyxDQUFDWixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsWUFBSztJQUMvQkQsVUFBVSxDQUFDVixTQUFTLENBQUNnQyxHQUFHLENBQUMsU0FBUyxDQUFDO0lBQ25DLElBQUdOLEtBQUssS0FBSyxRQUFRLEVBQUM7TUFDbEJQLFNBQVMsQ0FBQyxJQUFJLEVBQUUsYUFBYSxFQUFFRyxRQUFRLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRW5CLE1BQU0sRUFBRUMsS0FBSyxDQUFDO0lBQ3JGO0lBQ0EsSUFBR2tCLEtBQUssS0FBSyxTQUFTLEVBQUM7TUFDbkJQLFNBQVMsQ0FBQyxJQUFJLEVBQUUsY0FBYyxFQUFFRyxRQUFRLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRW5CLE1BQU0sRUFBRUMsS0FBSyxDQUFDO0lBQ3RGO0lBQ0EsSUFBR2tCLEtBQUssS0FBSyxPQUFPLEVBQUM7TUFDakJQLFNBQVMsQ0FBQyxJQUFJLEVBQUUsWUFBWSxFQUFFRyxRQUFRLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRW5CLE1BQU0sRUFBRUMsS0FBSyxDQUFDO0lBQ3BGO0lBQ0EsSUFBR2tCLEtBQUssS0FBSyxTQUFTLEVBQUM7TUFDbkJQLFNBQVMsQ0FBQyxJQUFJLEVBQUUsY0FBYyxFQUFFRyxRQUFRLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRW5CLE1BQU0sRUFBRUMsS0FBSyxDQUFDO0lBQ3RGO0lBQ0EsSUFBR2tCLEtBQUssS0FBSyxTQUFTLEVBQUM7TUFDbkJQLFNBQVMsQ0FBQyxJQUFJLEVBQUUsY0FBYyxFQUFFRyxRQUFRLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRW5CLE1BQU0sRUFBRUMsS0FBSyxDQUFDO0lBQ3RGO0VBQ0osQ0FBQyxDQUFDO0FBQ047QUFFQTJCLFNBQVMsQ0FBQ2pDLGFBQWEsRUFBRUksUUFBUSxFQUFFRixTQUFTLEVBQUVDLFVBQVUsRUFBRVEsY0FBYyxDQUFDRCxNQUFNLENBQUMsRUFBRUwsTUFBTSxFQUFFQyxLQUFLLENBQUM7O0FBT2hHOztBQUVBLElBQU00QixnQkFBZ0IsR0FBRzNDLFFBQVEsQ0FBQ0MsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUM7QUFDdkUwQyxnQkFBZ0IsQ0FBQ3ZDLE9BQU8sQ0FBQyxVQUFBd0MsTUFBTSxFQUFJO0VBQy9CQSxNQUFNLENBQUMxQixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsWUFBTTtJQUNuQyxJQUFNMkIsT0FBTyxHQUFHRCxNQUFNLENBQUNFLGtCQUFrQjtJQUV6QzlDLFFBQVEsQ0FBQ0MsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsQ0FBQ0csT0FBTyxDQUFDLFVBQUEyQyxJQUFJLEVBQUk7TUFDNUQsSUFBSUEsSUFBSSxLQUFLRixPQUFPLEVBQUU7UUFDbEJFLElBQUksQ0FBQ2IsS0FBSyxDQUFDYyxPQUFPLEdBQUcsTUFBTTtRQUMzQkQsSUFBSSxDQUFDRSxzQkFBc0IsQ0FBQzFDLFNBQVMsQ0FBQzJDLE1BQU0sQ0FBQyxNQUFNLENBQUM7TUFDeEQ7SUFDSixDQUFDLENBQUM7SUFDRixJQUFJTCxPQUFPLENBQUNYLEtBQUssQ0FBQ2MsT0FBTyxLQUFLLE9BQU8sRUFBRTtNQUNuQ0gsT0FBTyxDQUFDWCxLQUFLLENBQUNjLE9BQU8sR0FBRyxNQUFNO01BQzlCSixNQUFNLENBQUNyQyxTQUFTLENBQUMyQyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ25DLENBQUMsTUFBTTtNQUNITCxPQUFPLENBQUNYLEtBQUssQ0FBQ2MsT0FBTyxHQUFHLE9BQU87TUFDL0JKLE1BQU0sQ0FBQ3JDLFNBQVMsQ0FBQ2dDLEdBQUcsQ0FBQyxNQUFNLENBQUM7SUFDaEM7RUFDSixDQUFDLENBQUM7QUFDTixDQUFDLENBQUMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRheXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLndoZWVsX19kYXlzLWl0ZW1cIilcbmxldCBjdXJyZW50RGF5ID0gNVxuXG5mdW5jdGlvbiBzZXREYXlzKGRheXMsIGN1cnJlbnREYXkpe1xuICAgIGRheXMuZm9yRWFjaCgoZGF5LCBpKSA9PntcbiAgICAgICAgKytpXG4gICAgICAgIGRheS5jbGFzc0xpc3QudG9nZ2xlKFwibmV4dFwiLCBpID4gY3VycmVudERheSk7XG4gICAgICAgIGRheS5jbGFzc0xpc3QudG9nZ2xlKFwicGFzdFwiLCBpIDwgY3VycmVudERheSk7XG4gICAgICAgIGRheS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIsIGkgPT09IGN1cnJlbnREYXkpO1xuICAgIH0pXG59XG5cbi8vIGZ1bmN0aW9uIGFkZEFuaW1hdGlvbkNsYXNzKCkge1xuLy8gICAgIGNvbnN0IHBhc3RBbmRBY3RpdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLndoZWVsX19kYXlzLWl0ZW0ucGFzdCwgLndoZWVsX19kYXlzLWl0ZW0uYWN0aXZlXCIpO1xuLy8gICAgIGNvbnNvbGUubG9nKHBhc3RBbmRBY3RpdmUpXG4vL1xuLy8gICAgIHBhc3RBbmRBY3RpdmUuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xuLy8gICAgICAgICBsZXQgZGF5ID0gaXRlbS5xdWVyeVNlbGVjdG9yKFwiLndoZWVsX19kYXlzLWl0ZW0tdGV4dFwiKVxuLy8gICAgICAgICBjb25zdCByYW5kb21EZWxheSA9IE1hdGgucmFuZG9tKCkgKiAyMDAwMDtcbi8vXG4vLyAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuLy8gICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF5KVxuLy8gICAgICAgICAgICAgZGF5LnN0eWxlLmFuaW1hdGlvbkRlbGF5ID0gYCR7aS8gMn1zYDtcbi8vICAgICAgICAgICAgIGRheS5jbGFzc0xpc3QuYWRkKCdkYXlzQW5pbScpO1xuLy8gICAgICAgICAgICAgZGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9Pntcbi8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXkpXG4vLyAgICAgICAgICAgICAgICAgZGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2RheXNBbmltJyk7XG4vLyAgICAgICAgICAgICB9LCB7b25jZTogdHJ1ZX0pXG4vLyAgICAgICAgIH0sIHJhbmRvbURlbGF5KTtcbi8vICAgICB9KTtcbi8vIH1cblxuXG5cbnNldERheXMoZGF5cywgY3VycmVudERheSlcbi8vIGFkZEFuaW1hdGlvbkNsYXNzKClcblxuLy8vIHdoZWVsIGxvZ2ljXG5jb25zdCB3aGVlbFNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aGVlbF9fc2VjdGlvbnNcIilcbmNvbnN0IHdoZWVsV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2hlZWxfX3dyYXBcIilcbmNvbnN0IHdoZWVsQXJyb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndoZWVsX19hcnJvd1wiKVxuY29uc3Qgd2hlZWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndoZWVsX19idG5cIilcbmNvbnN0IHNwaW5CZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3Bpbi1iZ1wiKVxuY29uc3Qgc2FsdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZpcmV3b3Jrcy13cmFwXCIpXG5jb25zdCBidWJsZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2hlZWxfX2RheXMtaWNvbnNcIilcbmNvbnN0IHdoZWVsQnVibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndoZWVsX19idWJsZVwiKVxuXG5idWJsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XG4gICAgd2hlZWxCdWJsZS5jbGFzc0xpc3QudG9nZ2xlKFwiX2hpZGRlblwiKVxufSlcblxubGV0IHByaXplcyA9IFsnaXBob25lJywgJ2Vjb2Zsb3cnLCAnbWVyY2gnLCAnbm90aGluZycsIFwiYm9udXNlc1wiXVxuZnVuY3Rpb24gZ2V0UmFuZG9tUHJpemUoYXJyKSB7XG4gICAgcmV0dXJuIGFycltNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwcml6ZXMubGVuZ3RoKV07XG59XG5mdW5jdGlvbiBzcGluV2hlZWwocG9zaXRpb24sIGFuaW1hdGlvbiwgc2VjdGlvbnMsIGJ0biwgd2hlZWwsIGFycm93LCBwcml6ZSwgc3BpbkJnLCBzYWx1dCl7XG4gICAgc2VjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PntcbiAgICAgICAgc2VjdGlvbnMuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSByb3RhdGUoJHtwb3NpdGlvbn1kZWcpYFxuICAgICAgICBjb25zb2xlLmxvZyhwcml6ZSlcbiAgICB9LCB7b25jZTogdHJ1ZX0pXG4gICAgc2VjdGlvbnMuY2xhc3NMaXN0LmFkZChgJHthbmltYXRpb259YClcbiAgICBhcnJvdy5zdHlsZS5vcGFjaXR5ID0gXCIwXCJcbiAgICB3aGVlbC5jbGFzc0xpc3QuYWRkKFwid2hlZWxTaXplSW5jcmVhc2VcIilcbiAgICBzcGluQmcuY2xhc3NMaXN0LmFkZChcInNob3dTcGluQmdcIilcbiAgICBzYWx1dC5jbGFzc0xpc3QuYWRkKFwiX29wYWNpdHlcIilcbiAgICBidG4uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiXG59XG5cbmZ1bmN0aW9uIGZpcnN0U3BpbihzZWN0aW9ucywgYnRuLCB3aGVlbCwgYXJyb3csIHByaXplLCBzcGluQmcsIHNhbHV0KXtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+e1xuICAgICAgICB3aGVlbEJ1YmxlLmNsYXNzTGlzdC5hZGQoXCJfaGlkZGVuXCIpXG4gICAgICAgIGlmKHByaXplID09PSBcImlwaG9uZVwiKXtcbiAgICAgICAgICAgIHNwaW5XaGVlbCgxODAwLCBcImlwaG9uZVByaXplXCIsIHNlY3Rpb25zLCBidG4sIHdoZWVsLCBhcnJvdywgcHJpemUsIHNwaW5CZywgc2FsdXQpXG4gICAgICAgIH1cbiAgICAgICAgaWYocHJpemUgPT09IFwiZWNvZmxvd1wiKXtcbiAgICAgICAgICAgIHNwaW5XaGVlbCgxNjY1LCBcImVjb2Zsb3dQcml6ZVwiLCBzZWN0aW9ucywgYnRuLCB3aGVlbCwgYXJyb3csIHByaXplLCBzcGluQmcsIHNhbHV0KVxuICAgICAgICB9XG4gICAgICAgIGlmKHByaXplID09PSBcIm1lcmNoXCIpe1xuICAgICAgICAgICAgc3BpbldoZWVsKDE3MTEsIFwibWVyY2hQcml6ZVwiLCBzZWN0aW9ucywgYnRuLCB3aGVlbCwgYXJyb3csIHByaXplLCBzcGluQmcsIHNhbHV0KVxuICAgICAgICB9XG4gICAgICAgIGlmKHByaXplID09PSBcIm5vdGhpbmdcIil7XG4gICAgICAgICAgICBzcGluV2hlZWwoMTc1NSwgXCJub3RoaW5nUHJpemVcIiwgc2VjdGlvbnMsIGJ0biwgd2hlZWwsIGFycm93LCBwcml6ZSwgc3BpbkJnLCBzYWx1dClcbiAgICAgICAgfVxuICAgICAgICBpZihwcml6ZSA9PT0gXCJib251c2VzXCIpe1xuICAgICAgICAgICAgc3BpbldoZWVsKDE5MzUsIFwiYm9udXNlc1ByaXplXCIsIHNlY3Rpb25zLCBidG4sIHdoZWVsLCBhcnJvdywgcHJpemUsIHNwaW5CZywgc2FsdXQpXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5maXJzdFNwaW4od2hlZWxTZWN0aW9ucywgd2hlZWxCdG4sIHdoZWVsV3JhcCwgd2hlZWxBcnJvdywgZ2V0UmFuZG9tUHJpemUocHJpemVzKSwgc3BpbkJnLCBzYWx1dClcblxuXG5cblxuXG5cbi8vLy8gYWNjb3JkaW9uXG5cbmNvbnN0IGFjY29yZGlvbkhlYWRlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uLWhlYWRlcicpO1xuYWNjb3JkaW9uSGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiB7XG4gICAgaGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gaGVhZGVyLm5leHRFbGVtZW50U2libGluZztcblxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uLWNvbnRlbnQnKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gIT09IGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgaXRlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjb250ZW50LnN0eWxlLmRpc3BsYXkgPT09ICdibG9jaycpIHtcbiAgICAgICAgICAgIGNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIGhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cblxuIl19
